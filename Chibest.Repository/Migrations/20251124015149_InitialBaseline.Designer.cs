// <auto-generated />
using System;
using Chibest.Repository.Models;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

#nullable disable

namespace Chibest.Repository.Migrations
{
    [DbContext(typeof(ChiBestDbContext))]
    [Migration("20251124015149_InitialBaseline")]
    partial class InitialBaseline
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.22")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("Chibest.Repository.Models.Account", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("AvatarUrl")
                        .HasColumnType("text")
                        .HasColumnName("AvatarURL");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("FcmToken")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("character varying(250)");

                    b.Property<string>("Password")
                        .IsRequired()
                        .HasColumnType("text");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(15)
                        .HasColumnType("character varying(15)");

                    b.Property<string>("RefreshToken")
                        .HasColumnType("text");

                    b.Property<DateTime?>("RefreshTokenExpiryTime")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Active'::character varying");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("Account_pkey");

                    b.HasIndex(new[] { "Code" }, "Account_Code_key")
                        .IsUnique();

                    b.HasIndex(new[] { "Email" }, "Account_Email_key")
                        .IsUnique();

                    b.HasIndex(new[] { "Email" }, "ix_account_email");

                    b.HasIndex(new[] { "PhoneNumber" }, "ix_account_phonenumber");

                    b.ToTable("Account", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.AccountRole", b =>
                {
                    b.Property<Guid>("AccountId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("BranchId")
                        .HasColumnType("uuid");

                    b.HasKey("AccountId", "RoleId")
                        .HasName("pk_accountrole");

                    b.HasIndex("RoleId");

                    b.HasIndex(new[] { "AccountId" }, "ix_accountrole_accountid");

                    b.HasIndex(new[] { "BranchId", "RoleId" }, "ix_accountrole_branchid_roleid");

                    b.ToTable("AccountRole", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Attendance", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("AttendanceStatus")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Có Mặt'::character varying");

                    b.Property<Guid>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("CheckInTime")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<DateTime?>("CheckOutTime")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("DayType")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Ngày Thường'::character varying");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<decimal>("OvertimeHours")
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateOnly>("WorkDate")
                        .HasColumnType("date");

                    b.Property<decimal>("WorkHours")
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)");

                    b.Property<Guid?>("WorkShiftId")
                        .HasColumnType("uuid");

                    b.HasKey("Id")
                        .HasName("Attendance_pkey");

                    b.HasIndex("WorkShiftId");

                    b.HasIndex(new[] { "BranchId", "WorkDate" }, "ix_attendance_branchid")
                        .IsDescending(false, true);

                    b.HasIndex(new[] { "EmployeeId", "WorkDate" }, "ix_attendance_employeeid")
                        .IsDescending(false, true);

                    b.ToTable("Attendance", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Branch", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Address")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<bool>("IsFranchise")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(15)
                        .HasColumnType("character varying(15)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Active'::character varying");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("Branch_pkey");

                    b.HasIndex(new[] { "Code" }, "Branch_Code_key")
                        .IsUnique();

                    b.ToTable("Branch", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.BranchDebt", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<Guid>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("LastTransactionDate")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<DateTime>("LastUpdated")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<decimal>("PaidAmount")
                        .HasColumnType("money");

                    b.Property<decimal?>("RemainingDebt")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("money")
                        .HasComputedColumnSql("((\"TotalDebt\" - \"PaidAmount\") - \"ReturnAmount\")", true);

                    b.Property<decimal>("ReturnAmount")
                        .HasColumnType("money");

                    b.Property<decimal>("TotalDebt")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("BranchDebt_pkey");

                    b.HasIndex(new[] { "BranchId" }, "uq_branchdebt_branch")
                        .IsUnique();

                    b.ToTable("BranchDebt", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.BranchDebtHistory", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("Amount")
                        .HasColumnType("money");

                    b.Property<Guid>("BranchDebtId")
                        .HasColumnType("uuid");

                    b.Property<string>("Confirmation")
                        .HasColumnType("text");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Pending'::character varying");

                    b.Property<DateTime>("TransactionDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("TransactionType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("Id")
                        .HasName("BranchDebtHistory_pkey");

                    b.HasIndex(new[] { "BranchDebtId", "TransactionDate" }, "IX_BranchDebtHistory_Branch")
                        .IsDescending(false, true);

                    b.ToTable("BranchDebtHistory", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.BranchStock", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<int>("AvailableQty")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<Guid>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<int>("MaximumStock")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<int>("MinimumStock")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.HasKey("Id")
                        .HasName("BranchStock_pkey");

                    b.HasIndex(new[] { "BranchId", "AvailableQty" }, "ix_branchstock_branchid");

                    b.HasIndex(new[] { "ProductId" }, "ix_branchstock_productid");

                    b.HasIndex(new[] { "ProductId", "BranchId" }, "uq_branchstock_product_branch")
                        .IsUnique();

                    b.ToTable("BranchStock", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Category", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("character varying(150)");

                    b.HasKey("Id")
                        .HasName("Category_pkey");

                    b.HasIndex(new[] { "Name" }, "ix_category_type_name");

                    b.ToTable("Category", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Color", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)");

                    b.HasKey("Id")
                        .HasName("Color_pkey");

                    b.ToTable("Color", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Commission", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("Amount")
                        .HasColumnType("money");

                    b.Property<decimal?>("CalculationBase")
                        .HasColumnType("money");

                    b.Property<decimal?>("CommissionRate")
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)");

                    b.Property<string>("CommissionType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<int>("PeriodMonth")
                        .HasColumnType("integer");

                    b.Property<int>("PeriodYear")
                        .HasColumnType("integer");

                    b.Property<Guid?>("ReferenceId")
                        .HasColumnType("uuid");

                    b.Property<string>("ReferenceType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("Id")
                        .HasName("Commission_pkey");

                    b.HasIndex(new[] { "EmployeeId", "PeriodYear", "PeriodMonth" }, "ix_commission_employeeid")
                        .IsDescending(false, true, true);

                    b.ToTable("Commission", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Customer", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Address")
                        .HasColumnType("text");

                    b.Property<string>("AvatarUrl")
                        .HasColumnType("text")
                        .HasColumnName("AvatarURL");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime?>("DateOfBirth")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<string>("Email")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<Guid?>("GroupId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("LastActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("PhoneNumber")
                        .HasMaxLength(15)
                        .HasColumnType("character varying(15)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(30)
                        .HasColumnType("character varying(30)")
                        .HasDefaultValueSql("'Working'::character varying");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("Customer_pkey");

                    b.HasIndex(new[] { "Code" }, "Customer_Code_key")
                        .IsUnique();

                    b.HasIndex(new[] { "Email" }, "ix_customer_email");

                    b.HasIndex(new[] { "GroupId" }, "ix_customer_groupid");

                    b.HasIndex(new[] { "PhoneNumber" }, "ix_customer_phonenumber");

                    b.ToTable("Customer", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.CustomerVoucher", b =>
                {
                    b.Property<Guid>("VoucherId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("CustomerId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CollectedDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Đã Nhận'::character varying");

                    b.Property<DateTime?>("UsedDate")
                        .HasColumnType("timestamp(3) without time zone");

                    b.HasKey("VoucherId", "CustomerId")
                        .HasName("CustomerVoucher_pkey");

                    b.HasIndex("CustomerId");

                    b.ToTable("CustomerVoucher", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Deduction", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("Amount")
                        .HasColumnType("money");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("DeductionType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<int>("PeriodMonth")
                        .HasColumnType("integer");

                    b.Property<int>("PeriodYear")
                        .HasColumnType("integer");

                    b.HasKey("Id")
                        .HasName("Deduction_pkey");

                    b.HasIndex(new[] { "EmployeeId", "PeriodYear", "PeriodMonth" }, "ix_deduction_employeeid")
                        .IsDescending(false, true, true);

                    b.ToTable("Deduction", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Payroll", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("ActualBaseSalary")
                        .HasColumnType("money");

                    b.Property<decimal>("BaseSalary")
                        .HasColumnType("money");

                    b.Property<Guid>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("GrossSalary")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("money")
                        .HasComputedColumnSql("((((\"ActualBaseSalary\" + \"TotalAllowance\") + \"OvertimeSalary\") + \"TotalCommission\") + \"TotalBonus\")", true);

                    b.Property<decimal>("HealthInsurance")
                        .HasColumnType("money");

                    b.Property<decimal?>("NetSalary")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("money")
                        .HasComputedColumnSql("((((((((\"ActualBaseSalary\" + \"TotalAllowance\") + \"OvertimeSalary\") + \"TotalCommission\") + \"TotalBonus\") - \"TotalDeduction\") - \"SocialInsurance\") - \"HealthInsurance\") - \"UnemploymentInsurance\")", true);

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<decimal>("OvertimeSalary")
                        .HasColumnType("money");

                    b.Property<DateOnly?>("PaymentDate")
                        .HasColumnType("date");

                    b.Property<string>("PaymentMethod")
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Chuyển Khoản'::character varying");

                    b.Property<string>("PaymentStatus")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Chờ Thanh Toán'::character varying");

                    b.Property<int>("PeriodMonth")
                        .HasColumnType("integer");

                    b.Property<int>("PeriodYear")
                        .HasColumnType("integer");

                    b.Property<decimal>("SocialInsurance")
                        .HasColumnType("money");

                    b.Property<int>("StandardWorkDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(26);

                    b.Property<decimal>("TotalAllowance")
                        .HasColumnType("money");

                    b.Property<decimal>("TotalBonus")
                        .HasColumnType("money");

                    b.Property<decimal>("TotalCommission")
                        .HasColumnType("money");

                    b.Property<decimal>("TotalDeduction")
                        .HasColumnType("money");

                    b.Property<decimal>("TotalOvertimeHours")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)");

                    b.Property<int>("TotalWorkDays")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<decimal>("TotalWorkHours")
                        .HasPrecision(10, 2)
                        .HasColumnType("numeric(10,2)");

                    b.Property<decimal>("UnemploymentInsurance")
                        .HasColumnType("money");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("Payroll_pkey");

                    b.HasIndex("BranchId");

                    b.HasIndex(new[] { "EmployeeId", "PeriodYear", "PeriodMonth" }, "ix_payroll_employeeid")
                        .IsDescending(false, true, true);

                    b.HasIndex(new[] { "PaymentStatus", "PeriodYear", "PeriodMonth" }, "ix_payroll_status")
                        .IsDescending(false, true, true);

                    b.HasIndex(new[] { "EmployeeId", "PeriodYear", "PeriodMonth" }, "uq_payroll_employee_period")
                        .IsUnique();

                    b.ToTable("Payroll", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Permission", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.HasKey("Id")
                        .HasName("Permission_pkey");

                    b.HasIndex(new[] { "Code" }, "Permission_Code_key")
                        .IsUnique();

                    b.HasIndex(new[] { "Code" }, "ix_permission_code");

                    b.ToTable("Permission", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Product", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("AvatarUrl")
                        .HasColumnType("text")
                        .HasColumnName("AvatarURL");

                    b.Property<string>("BarCode")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<Guid>("CategoryId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("ColorId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<bool>("IsMaster")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(true);

                    b.Property<string>("Material")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("character varying(250)");

                    b.Property<string>("Note")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.Property<string>("ParentSku")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("ParentSKU");

                    b.Property<Guid?>("SizeId")
                        .HasColumnType("uuid");

                    b.Property<string>("Sku")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("SKU");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'UnAvailable'::character varying");

                    b.Property<string>("Style")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("VideoUrl")
                        .HasColumnType("text")
                        .HasColumnName("VideoURL");

                    b.Property<int>("Weight")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.HasKey("Id")
                        .HasName("Product_pkey");

                    b.HasIndex(new[] { "BarCode" }, "Product_BarCode_key")
                        .IsUnique();

                    b.HasIndex(new[] { "Sku" }, "Product_SKU_key")
                        .IsUnique();

                    b.HasIndex(new[] { "CategoryId" }, "ix_product_categoryid");

                    b.HasIndex(new[] { "ColorId" }, "ix_product_colorid");

                    b.HasIndex(new[] { "Name" }, "ix_product_name");

                    b.HasIndex(new[] { "ParentSku" }, "ix_product_parentsku");

                    b.HasIndex(new[] { "SizeId" }, "ix_product_sizeid");

                    b.ToTable("Product", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.ProductDetail", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("ChipCode")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<string>("TagId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("ProductDetail_pkey");

                    b.HasIndex(new[] { "ChipCode" }, "ProductDetail_ChipCode_key")
                        .IsUnique();

                    b.HasIndex(new[] { "TagId" }, "ProductDetail_TagId_key")
                        .IsUnique();

                    b.HasIndex(new[] { "ChipCode" }, "ix_productdetail_chipcode");

                    b.HasIndex(new[] { "ProductId" }, "ix_productdetail_productid");

                    b.ToTable("ProductDetail", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.ProductPlan", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<int?>("Amount")
                        .HasColumnType("integer");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("DetailAmount")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("Note")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("SendDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Queue'::character varying");

                    b.Property<Guid?>("SupplierId")
                        .HasColumnType("uuid");

                    b.Property<string>("Type")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("ProductPlan_pkey");

                    b.HasIndex(new[] { "ProductId" }, "IX_ProductPlan_ProductId");

                    b.HasIndex(new[] { "SupplierId" }, "IX_ProductPlan_SupplierId");

                    b.ToTable("ProductPlan", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.ProductPriceHistory", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<Guid?>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<decimal>("CostPrice")
                        .HasColumnType("money");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime>("EffectiveDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateTime?>("ExpiryDate")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<decimal>("SellingPrice")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("ProductPriceHistory_pkey");

                    b.HasIndex("BranchId");

                    b.HasIndex(new[] { "ProductId", "BranchId", "EffectiveDate" }, "ix_productpricehistory_product_branch")
                        .IsDescending(false, false, true);

                    b.ToTable("ProductPriceHistory", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseOrder", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<Guid?>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid?>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<string>("InvoiceCode")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<DateTime>("OrderDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Draft'::character varying");

                    b.Property<decimal>("SubTotal")
                        .HasColumnType("money");

                    b.Property<Guid?>("SupplierId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("PurchaseOrder_pkey");

                    b.HasIndex("BranchId");

                    b.HasIndex("EmployeeId");

                    b.HasIndex("SupplierId");

                    b.HasIndex(new[] { "InvoiceCode" }, "PurchaseOrder_InvoiceCode_key")
                        .IsUnique();

                    b.HasIndex(new[] { "OrderDate" }, "ix_transactionorder_orderdate")
                        .IsDescending();

                    b.HasIndex(new[] { "Status" }, "ix_transactionorder_status");

                    b.ToTable("PurchaseOrder", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseOrderDetail", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<int?>("ActualQuantity")
                        .HasColumnType("integer");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("PurchaseOrderId")
                        .HasColumnType("uuid");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer");

                    b.Property<decimal>("ReFee")
                        .HasColumnType("money");

                    b.Property<decimal>("UnitPrice")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("PurchaseOrderDetail_pkey");

                    b.HasIndex(new[] { "PurchaseOrderId" }, "ix_transactionorderdetail_orderid");

                    b.HasIndex(new[] { "ProductId" }, "ix_transactionorderdetail_productid");

                    b.ToTable("PurchaseOrderDetail", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseReturn", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<Guid?>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid?>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<string>("InvoiceCode")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<DateTime>("OrderDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Draft'::character varying");

                    b.Property<decimal>("SubTotal")
                        .HasColumnType("money");

                    b.Property<Guid?>("SupplierId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("PurchaseReturn_pkey");

                    b.HasIndex("EmployeeId");

                    b.HasIndex("SupplierId");

                    b.HasIndex(new[] { "InvoiceCode" }, "PurchaseReturn_InvoiceCode_key")
                        .IsUnique();

                    b.HasIndex(new[] { "BranchId" }, "ix_purchasereturn_branch");

                    b.HasIndex(new[] { "OrderDate" }, "ix_purchasereturn_orderdate")
                        .IsDescending();

                    b.ToTable("PurchaseReturn", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseReturnDetail", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("PurchaseReturnId")
                        .HasColumnType("uuid");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer");

                    b.Property<decimal>("UnitPrice")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("PurchaseReturnDetail_pkey");

                    b.HasIndex(new[] { "PurchaseReturnId" }, "ix_purchasereturndetail_orderid");

                    b.HasIndex(new[] { "ProductId" }, "ix_purchasereturndetail_productid");

                    b.ToTable("PurchaseReturnDetail", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Role", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)");

                    b.HasKey("Id")
                        .HasName("Role_pkey");

                    b.HasIndex(new[] { "Name" }, "ix_role_name");

                    b.ToTable("Role", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.SalaryConfig", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("BaseSalary")
                        .HasColumnType("money");

                    b.Property<Guid>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<DateOnly>("EffectiveDate")
                        .HasColumnType("date");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<DateOnly?>("ExpiryDate")
                        .HasColumnType("date");

                    b.Property<decimal>("HolidayCoefficient")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasDefaultValueSql("2.0");

                    b.Property<decimal?>("HourlyRate")
                        .HasColumnType("money");

                    b.Property<decimal>("HousingAllowance")
                        .HasColumnType("money");

                    b.Property<decimal>("MealAllowance")
                        .HasColumnType("money");

                    b.Property<decimal>("OvertimeCoefficient")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasDefaultValueSql("1.5");

                    b.Property<decimal>("PhoneAllowance")
                        .HasColumnType("money");

                    b.Property<decimal>("PositionAllowance")
                        .HasColumnType("money");

                    b.Property<string>("SalaryType")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Theo Tháng'::character varying");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Đang Áp Dụng'::character varying");

                    b.Property<decimal>("TransportAllowance")
                        .HasColumnType("money");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<decimal>("WeekendCoefficient")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasDefaultValueSql("1.3");

                    b.HasKey("Id")
                        .HasName("SalaryConfig_pkey");

                    b.HasIndex("BranchId");

                    b.HasIndex(new[] { "EmployeeId", "EffectiveDate" }, "ix_salaryconfig_employeeid")
                        .IsDescending(false, true);

                    b.ToTable("SalaryConfig", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.SalesOrder", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<DateTime?>("ActualDeliveryDate")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<Guid>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("CustomerEmail")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<Guid>("CustomerId")
                        .HasColumnType("uuid");

                    b.Property<string>("CustomerName")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("character varying(250)");

                    b.Property<string>("CustomerPhone")
                        .HasMaxLength(15)
                        .HasColumnType("character varying(15)");

                    b.Property<string>("DeliveryMethod")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Tại Cửa Hàng'::character varying");

                    b.Property<decimal>("DiscountAmount")
                        .HasColumnType("money");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<DateTime?>("ExpectedDeliveryDate")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<decimal?>("FinalAmount")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("money")
                        .HasComputedColumnSql("(((\"SubTotal\" - \"DiscountAmount\") - \"VoucherAmount\") + \"ShippingFee\")", true);

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<string>("OrderCode")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("OrderDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<decimal>("PaidAmount")
                        .HasColumnType("money");

                    b.Property<string>("PaymentMethod")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Tiền Mặt'::character varying");

                    b.Property<string>("PaymentStatus")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Chờ Thanh Toán'::character varying");

                    b.Property<string>("ShippingAddress")
                        .HasMaxLength(500)
                        .HasColumnType("character varying(500)");

                    b.Property<decimal>("ShippingFee")
                        .HasColumnType("money");

                    b.Property<string>("ShippingPhone")
                        .HasMaxLength(15)
                        .HasColumnType("character varying(15)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Đặt Trước'::character varying");

                    b.Property<decimal>("SubTotal")
                        .HasColumnType("money");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<decimal>("VoucherAmount")
                        .HasColumnType("money");

                    b.Property<Guid?>("VoucherId")
                        .HasColumnType("uuid");

                    b.HasKey("Id")
                        .HasName("SalesOrder_pkey");

                    b.HasIndex("EmployeeId");

                    b.HasIndex("VoucherId");

                    b.HasIndex(new[] { "OrderCode" }, "SalesOrder_OrderCode_key")
                        .IsUnique();

                    b.HasIndex(new[] { "BranchId", "OrderDate" }, "ix_salesorder_branchid")
                        .IsDescending(false, true);

                    b.HasIndex(new[] { "CustomerId", "OrderDate" }, "ix_salesorder_customerid")
                        .IsDescending(false, true);

                    b.HasIndex(new[] { "PaymentStatus" }, "ix_salesorder_paymentstatus");

                    b.HasIndex(new[] { "Status", "OrderDate" }, "ix_salesorder_status")
                        .IsDescending(false, true);

                    b.ToTable("SalesOrder", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.SalesOrderDetail", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("DiscountAmount")
                        .HasColumnType("money");

                    b.Property<decimal>("DiscountPercent")
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)");

                    b.Property<string>("ItemName")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("character varying(250)");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<Guid?>("ProductDetailId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<string>("ProductSku")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("ProductSKU");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer");

                    b.Property<Guid>("SalesOrderId")
                        .HasColumnType("uuid");

                    b.Property<decimal?>("TotalPrice")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("money")
                        .HasComputedColumnSql("(((\"Quantity\" * \"UnitPrice\") - \"DiscountAmount\") + ((\"Quantity\" * \"UnitPrice\") / 100))", true);

                    b.Property<decimal>("UnitPrice")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("SalesOrderDetail_pkey");

                    b.HasIndex("ProductDetailId");

                    b.HasIndex(new[] { "SalesOrderId" }, "ix_salesorderdetail_orderid");

                    b.HasIndex(new[] { "ProductId" }, "ix_salesorderdetail_productid");

                    b.ToTable("SalesOrderDetail", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Size", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("character varying(20)");

                    b.HasKey("Id")
                        .HasName("Size_pkey");

                    b.ToTable("Size", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.StockAdjustment", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("AdjustmentCode")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("AdjustmentDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("AdjustmentType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.Property<Guid?>("ApprovedBy")
                        .HasColumnType("uuid");

                    b.Property<Guid>("BranchId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Draft'::character varying");

                    b.Property<decimal>("TotalValueChange")
                        .HasColumnType("money");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("StockAdjustment_pkey");

                    b.HasIndex("ApprovedBy");

                    b.HasIndex("EmployeeId");

                    b.HasIndex(new[] { "AdjustmentCode" }, "StockAdjustment_AdjustmentCode_key")
                        .IsUnique();

                    b.HasIndex(new[] { "BranchId", "AdjustmentDate" }, "ix_stockadjustment_branchid")
                        .IsDescending(false, true);

                    b.HasIndex(new[] { "AdjustmentType", "AdjustmentDate" }, "ix_stockadjustment_type_date")
                        .IsDescending(false, true);

                    b.ToTable("StockAdjustment", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.StockAdjustmentDetail", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<int>("ActualQty")
                        .HasColumnType("integer");

                    b.Property<int?>("DifferenceQty")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("integer")
                        .HasComputedColumnSql("(\"ActualQty\" - \"SystemQty\")", true);

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("StockAdjustmentId")
                        .HasColumnType("uuid");

                    b.Property<int>("SystemQty")
                        .HasColumnType("integer");

                    b.Property<decimal?>("TotalValueChange")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("money")
                        .HasComputedColumnSql("((\"ActualQty\" - \"SystemQty\") * \"UnitCost\")", true);

                    b.Property<decimal>("UnitCost")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("StockAdjustmentDetail_pkey");

                    b.HasIndex(new[] { "StockAdjustmentId" }, "ix_stockadjustmentdetail_adjustmentid");

                    b.HasIndex(new[] { "ProductId" }, "ix_stockadjustmentdetail_productid");

                    b.ToTable("StockAdjustmentDetail", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.SupplierDebt", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("PaidAmount")
                        .HasColumnType("money");

                    b.Property<decimal?>("RemainingDebt")
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("money")
                        .HasComputedColumnSql("((\"TotalDebt\" - \"PaidAmount\") - \"ReturnAmount\")", true);

                    b.Property<decimal>("ReturnAmount")
                        .HasColumnType("money");

                    b.Property<Guid>("SupplierId")
                        .HasColumnType("uuid");

                    b.Property<decimal>("TotalDebt")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("SupplierDebt_pkey");

                    b.HasIndex(new[] { "SupplierId" }, "uq_supplierdebt_supplier")
                        .IsUnique();

                    b.ToTable("SupplierDebt", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.SupplierDebtHistory", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<decimal>("Amount")
                        .HasColumnType("money");

                    b.Property<string>("Confirmation")
                        .HasColumnType("text");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Pending'::character varying");

                    b.Property<Guid>("SupplierDebtId")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("TransactionDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("TransactionType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)");

                    b.HasKey("Id")
                        .HasName("SupplierDebtHistory_pkey");

                    b.HasIndex(new[] { "SupplierDebtId", "TransactionDate" }, "ix_supplierdebthistory_supplier")
                        .IsDescending(false, true);

                    b.ToTable("SupplierDebtHistory", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.TransferOrder", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<Guid?>("EmployeeId")
                        .HasColumnType("uuid");

                    b.Property<Guid?>("FromBranch")
                        .HasColumnType("uuid");

                    b.Property<string>("InvoiceCode")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<DateTime>("OrderDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Draft'::character varying");

                    b.Property<decimal>("SubTotal")
                        .HasColumnType("money");

                    b.Property<Guid?>("ToBranch")
                        .HasColumnType("uuid");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.HasKey("Id")
                        .HasName("TransferOrder_pkey");

                    b.HasIndex("EmployeeId");

                    b.HasIndex("ToBranch");

                    b.HasIndex(new[] { "InvoiceCode" }, "TransferOrder_InvoiceCode_key")
                        .IsUnique();

                    b.HasIndex(new[] { "FromBranch", "ToBranch", "OrderDate" }, "ix_transferorder_branch")
                        .IsDescending(false, false, true);

                    b.HasIndex(new[] { "OrderDate" }, "ix_transferorder_orderdate")
                        .IsDescending();

                    b.ToTable("TransferOrder", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.TransferOrderDetail", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<int?>("ActualQuantity")
                        .HasColumnType("integer");

                    b.Property<decimal>("CommissionFee")
                        .HasColumnType("money");

                    b.Property<string>("Note")
                        .HasColumnType("text");

                    b.Property<Guid>("ProductId")
                        .HasColumnType("uuid");

                    b.Property<int>("Quantity")
                        .HasColumnType("integer");

                    b.Property<Guid>("TransferOrderId")
                        .HasColumnType("uuid");

                    b.Property<decimal>("UnitPrice")
                        .HasColumnType("money");

                    b.HasKey("Id")
                        .HasName("TransferOrderDetail_pkey");

                    b.HasIndex(new[] { "TransferOrderId" }, "ix_transferorderdetail_orderid");

                    b.HasIndex(new[] { "ProductId" }, "ix_transferorderdetail_productid");

                    b.ToTable("TransferOrderDetail", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.Voucher", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("ApplicableCategories")
                        .HasColumnType("text");

                    b.Property<string>("ApplicableProducts")
                        .HasColumnType("text");

                    b.Property<DateTime>("AvailableDate")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<decimal?>("DiscountAmount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("money")
                        .HasDefaultValueSql("0");

                    b.Property<decimal?>("DiscountPercent")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasDefaultValueSql("0");

                    b.Property<DateTime>("ExpiredDate")
                        .HasColumnType("timestamp(3) without time zone");

                    b.Property<decimal?>("MaxDiscountAmount")
                        .HasColumnType("money");

                    b.Property<decimal>("MinimumTransaction")
                        .HasColumnType("money");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(250)
                        .HasColumnType("character varying(250)");

                    b.Property<string>("Status")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(40)
                        .HasColumnType("character varying(40)")
                        .HasDefaultValueSql("'Available'::character varying");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("timestamp(3) without time zone")
                        .HasDefaultValueSql("CURRENT_TIMESTAMP");

                    b.Property<int?>("UsageLimit")
                        .HasColumnType("integer");

                    b.Property<int?>("UsagePerCustomer")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1);

                    b.Property<int>("UsedCount")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(0);

                    b.Property<string>("VoucherType")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasDefaultValueSql("'Giảm Giá'::character varying");

                    b.HasKey("Id")
                        .HasName("Voucher_pkey");

                    b.HasIndex(new[] { "Code" }, "Voucher_Code_key")
                        .IsUnique();

                    b.ToTable("Voucher", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.WorkShift", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasDefaultValueSql("gen_random_uuid()");

                    b.Property<string>("Description")
                        .HasColumnType("text");

                    b.Property<TimeOnly>("EndTime")
                        .HasColumnType("time without time zone");

                    b.Property<bool>("IsOvernight")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("boolean")
                        .HasDefaultValue(false);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)");

                    b.Property<decimal>("ShiftCoefficient")
                        .ValueGeneratedOnAdd()
                        .HasPrecision(5, 2)
                        .HasColumnType("numeric(5,2)")
                        .HasDefaultValueSql("1.0");

                    b.Property<TimeOnly>("StartTime")
                        .HasColumnType("time without time zone");

                    b.HasKey("Id")
                        .HasName("WorkShift_pkey");

                    b.ToTable("WorkShift", (string)null);
                });

            modelBuilder.Entity("RolePermission", b =>
                {
                    b.Property<Guid>("RoleId")
                        .HasColumnType("uuid");

                    b.Property<Guid>("PermissionId")
                        .HasColumnType("uuid");

                    b.HasKey("RoleId", "PermissionId")
                        .HasName("pk_rolepermission");

                    b.HasIndex("PermissionId");

                    b.ToTable("RolePermission", (string)null);
                });

            modelBuilder.Entity("Chibest.Repository.Models.AccountRole", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Account", "Account")
                        .WithMany("AccountRoles")
                        .HasForeignKey("AccountId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_accountrole_account");

                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("AccountRoles")
                        .HasForeignKey("BranchId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("fk_accountrole_branch");

                    b.HasOne("Chibest.Repository.Models.Role", "Role")
                        .WithMany("AccountRoles")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_accountrole_role");

                    b.Navigation("Account");

                    b.Navigation("Branch");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Attendance", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("Attendances")
                        .HasForeignKey("BranchId")
                        .IsRequired()
                        .HasConstraintName("Attendance_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("Attendances")
                        .HasForeignKey("EmployeeId")
                        .IsRequired()
                        .HasConstraintName("Attendance_EmployeeId_fkey");

                    b.HasOne("Chibest.Repository.Models.WorkShift", "WorkShift")
                        .WithMany("Attendances")
                        .HasForeignKey("WorkShiftId")
                        .HasConstraintName("Attendance_WorkShiftId_fkey");

                    b.Navigation("Branch");

                    b.Navigation("Employee");

                    b.Navigation("WorkShift");
                });

            modelBuilder.Entity("Chibest.Repository.Models.BranchDebt", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithOne("BranchDebt")
                        .HasForeignKey("Chibest.Repository.Models.BranchDebt", "BranchId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("BranchDebt_BranchId_fkey");

                    b.Navigation("Branch");
                });

            modelBuilder.Entity("Chibest.Repository.Models.BranchDebtHistory", b =>
                {
                    b.HasOne("Chibest.Repository.Models.BranchDebt", "BranchDebt")
                        .WithMany("BranchDebtHistories")
                        .HasForeignKey("BranchDebtId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("BranchDebtHistory_BranchDebtId_fkey");

                    b.Navigation("BranchDebt");
                });

            modelBuilder.Entity("Chibest.Repository.Models.BranchStock", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("BranchStocks")
                        .HasForeignKey("BranchId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("BranchStock_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("BranchStocks")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("BranchStock_ProductId_fkey");

                    b.Navigation("Branch");

                    b.Navigation("Product");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Commission", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("Commissions")
                        .HasForeignKey("EmployeeId")
                        .IsRequired()
                        .HasConstraintName("Commission_EmployeeId_fkey");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Customer", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Customer", "Group")
                        .WithMany("InverseGroup")
                        .HasForeignKey("GroupId")
                        .HasConstraintName("Customer_GroupId_fkey");

                    b.Navigation("Group");
                });

            modelBuilder.Entity("Chibest.Repository.Models.CustomerVoucher", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Customer", "Customer")
                        .WithMany("CustomerVouchers")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("CustomerVoucher_CustomerId_fkey");

                    b.HasOne("Chibest.Repository.Models.Voucher", "Voucher")
                        .WithMany("CustomerVouchers")
                        .HasForeignKey("VoucherId")
                        .IsRequired()
                        .HasConstraintName("CustomerVoucher_VoucherId_fkey");

                    b.Navigation("Customer");

                    b.Navigation("Voucher");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Deduction", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("Deductions")
                        .HasForeignKey("EmployeeId")
                        .IsRequired()
                        .HasConstraintName("Deduction_EmployeeId_fkey");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Payroll", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("Payrolls")
                        .HasForeignKey("BranchId")
                        .IsRequired()
                        .HasConstraintName("Payroll_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("Payrolls")
                        .HasForeignKey("EmployeeId")
                        .IsRequired()
                        .HasConstraintName("Payroll_EmployeeId_fkey");

                    b.Navigation("Branch");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Product", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Category", "Category")
                        .WithMany("Products")
                        .HasForeignKey("CategoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("Product_CategoryId_fkey");

                    b.HasOne("Chibest.Repository.Models.Color", "Color")
                        .WithMany("Products")
                        .HasForeignKey("ColorId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("Product_ColorId_fkey");

                    b.HasOne("Chibest.Repository.Models.Product", "ParentSkuNavigation")
                        .WithMany("InverseParentSkuNavigation")
                        .HasForeignKey("ParentSku")
                        .HasPrincipalKey("Sku")
                        .HasConstraintName("Product_ParentSKU_fkey");

                    b.HasOne("Chibest.Repository.Models.Size", "Size")
                        .WithMany("Products")
                        .HasForeignKey("SizeId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .HasConstraintName("Product_SizeId_fkey");

                    b.Navigation("Category");

                    b.Navigation("Color");

                    b.Navigation("ParentSkuNavigation");

                    b.Navigation("Size");
                });

            modelBuilder.Entity("Chibest.Repository.Models.ProductDetail", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("ProductDetails")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("ProductDetail_ProductId_fkey");

                    b.Navigation("Product");
                });

            modelBuilder.Entity("Chibest.Repository.Models.ProductPlan", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("ProductPlans")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("ProductPlan_ProductId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Supplier")
                        .WithMany("ProductPlans")
                        .HasForeignKey("SupplierId")
                        .HasConstraintName("ProductPlan_SupplierId_fkey");

                    b.Navigation("Product");

                    b.Navigation("Supplier");
                });

            modelBuilder.Entity("Chibest.Repository.Models.ProductPriceHistory", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("ProductPriceHistories")
                        .HasForeignKey("BranchId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("ProductPriceHistory_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("ProductPriceHistories")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("ProductPriceHistory_ProductId_fkey");

                    b.Navigation("Branch");

                    b.Navigation("Product");
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseOrder", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("PurchaseOrders")
                        .HasForeignKey("BranchId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("PurchaseOrder_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("PurchaseOrderEmployees")
                        .HasForeignKey("EmployeeId")
                        .HasConstraintName("PurchaseOrder_EmployeeId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Supplier")
                        .WithMany("PurchaseOrderSuppliers")
                        .HasForeignKey("SupplierId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .HasConstraintName("PurchaseOrder_SupplierId_fkey");

                    b.Navigation("Branch");

                    b.Navigation("Employee");

                    b.Navigation("Supplier");
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseOrderDetail", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("PurchaseOrderDetails")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("PurchaseOrderDetail_ProductId_fkey");

                    b.HasOne("Chibest.Repository.Models.PurchaseOrder", "PurchaseOrder")
                        .WithMany("PurchaseOrderDetails")
                        .HasForeignKey("PurchaseOrderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("PurchaseOrderDetail_PurchaseOrderId_fkey");

                    b.Navigation("Product");

                    b.Navigation("PurchaseOrder");
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseReturn", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("PurchaseReturns")
                        .HasForeignKey("BranchId")
                        .HasConstraintName("fk_purchasereturn_branch");

                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("PurchaseReturnEmployees")
                        .HasForeignKey("EmployeeId")
                        .HasConstraintName("fk_purchasereturn_employee");

                    b.HasOne("Chibest.Repository.Models.Account", "Supplier")
                        .WithMany("PurchaseReturnSuppliers")
                        .HasForeignKey("SupplierId")
                        .HasConstraintName("fk_purchasereturn_supplier");

                    b.Navigation("Branch");

                    b.Navigation("Employee");

                    b.Navigation("Supplier");
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseReturnDetail", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("PurchaseReturnDetails")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("PurchaseReturnDetail_ProductId_fkey");

                    b.HasOne("Chibest.Repository.Models.PurchaseReturn", "PurchaseReturn")
                        .WithMany("PurchaseReturnDetails")
                        .HasForeignKey("PurchaseReturnId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("PurchaseReturnDetail_PurchaseReturnId_fkey");

                    b.Navigation("Product");

                    b.Navigation("PurchaseReturn");
                });

            modelBuilder.Entity("Chibest.Repository.Models.SalaryConfig", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("SalaryConfigs")
                        .HasForeignKey("BranchId")
                        .IsRequired()
                        .HasConstraintName("SalaryConfig_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("SalaryConfigs")
                        .HasForeignKey("EmployeeId")
                        .IsRequired()
                        .HasConstraintName("SalaryConfig_EmployeeId_fkey");

                    b.Navigation("Branch");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Chibest.Repository.Models.SalesOrder", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("SalesOrders")
                        .HasForeignKey("BranchId")
                        .IsRequired()
                        .HasConstraintName("SalesOrder_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Customer", "Customer")
                        .WithMany("SalesOrders")
                        .HasForeignKey("CustomerId")
                        .IsRequired()
                        .HasConstraintName("SalesOrder_CustomerId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("SalesOrders")
                        .HasForeignKey("EmployeeId")
                        .IsRequired()
                        .HasConstraintName("SalesOrder_EmployeeId_fkey");

                    b.HasOne("Chibest.Repository.Models.Voucher", "Voucher")
                        .WithMany("SalesOrders")
                        .HasForeignKey("VoucherId")
                        .HasConstraintName("SalesOrder_VoucherId_fkey");

                    b.Navigation("Branch");

                    b.Navigation("Customer");

                    b.Navigation("Employee");

                    b.Navigation("Voucher");
                });

            modelBuilder.Entity("Chibest.Repository.Models.SalesOrderDetail", b =>
                {
                    b.HasOne("Chibest.Repository.Models.ProductDetail", "ProductDetail")
                        .WithMany("SalesOrderDetails")
                        .HasForeignKey("ProductDetailId")
                        .HasConstraintName("SalesOrderDetail_ProductDetailId_fkey");

                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("SalesOrderDetails")
                        .HasForeignKey("ProductId")
                        .IsRequired()
                        .HasConstraintName("SalesOrderDetail_ProductId_fkey");

                    b.HasOne("Chibest.Repository.Models.SalesOrder", "SalesOrder")
                        .WithMany("SalesOrderDetails")
                        .HasForeignKey("SalesOrderId")
                        .IsRequired()
                        .HasConstraintName("SalesOrderDetail_SalesOrderId_fkey");

                    b.Navigation("Product");

                    b.Navigation("ProductDetail");

                    b.Navigation("SalesOrder");
                });

            modelBuilder.Entity("Chibest.Repository.Models.StockAdjustment", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Account", "ApprovedByNavigation")
                        .WithMany("StockAdjustmentApprovedByNavigations")
                        .HasForeignKey("ApprovedBy")
                        .HasConstraintName("StockAdjustment_ApprovedBy_fkey");

                    b.HasOne("Chibest.Repository.Models.Branch", "Branch")
                        .WithMany("StockAdjustments")
                        .HasForeignKey("BranchId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("StockAdjustment_BranchId_fkey");

                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("StockAdjustmentEmployees")
                        .HasForeignKey("EmployeeId")
                        .IsRequired()
                        .HasConstraintName("StockAdjustment_EmployeeId_fkey");

                    b.Navigation("ApprovedByNavigation");

                    b.Navigation("Branch");

                    b.Navigation("Employee");
                });

            modelBuilder.Entity("Chibest.Repository.Models.StockAdjustmentDetail", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("StockAdjustmentDetails")
                        .HasForeignKey("ProductId")
                        .IsRequired()
                        .HasConstraintName("StockAdjustmentDetail_ProductId_fkey");

                    b.HasOne("Chibest.Repository.Models.StockAdjustment", "StockAdjustment")
                        .WithMany("StockAdjustmentDetails")
                        .HasForeignKey("StockAdjustmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("StockAdjustmentDetail_StockAdjustmentId_fkey");

                    b.Navigation("Product");

                    b.Navigation("StockAdjustment");
                });

            modelBuilder.Entity("Chibest.Repository.Models.SupplierDebt", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Account", "Supplier")
                        .WithOne("SupplierDebt")
                        .HasForeignKey("Chibest.Repository.Models.SupplierDebt", "SupplierId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("SupplierDebt_SupplierId_fkey");

                    b.Navigation("Supplier");
                });

            modelBuilder.Entity("Chibest.Repository.Models.SupplierDebtHistory", b =>
                {
                    b.HasOne("Chibest.Repository.Models.SupplierDebt", "SupplierDebt")
                        .WithMany("SupplierDebtHistories")
                        .HasForeignKey("SupplierDebtId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("SupplierDebtHistory_SupplierDebtId_fkey");

                    b.Navigation("SupplierDebt");
                });

            modelBuilder.Entity("Chibest.Repository.Models.TransferOrder", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Account", "Employee")
                        .WithMany("TransferOrders")
                        .HasForeignKey("EmployeeId")
                        .HasConstraintName("TransferOrder_EmployeeId_fkey");

                    b.HasOne("Chibest.Repository.Models.Branch", "FromBranchNavigation")
                        .WithMany("TransferOrderFromBranchNavigations")
                        .HasForeignKey("FromBranch")
                        .HasConstraintName("TransferOrder_FromBranch_fkey");

                    b.HasOne("Chibest.Repository.Models.Branch", "ToBranchNavigation")
                        .WithMany("TransferOrderToBranchNavigations")
                        .HasForeignKey("ToBranch")
                        .HasConstraintName("TransferOrder_ToBranch_fkey");

                    b.Navigation("Employee");

                    b.Navigation("FromBranchNavigation");

                    b.Navigation("ToBranchNavigation");
                });

            modelBuilder.Entity("Chibest.Repository.Models.TransferOrderDetail", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Product", "Product")
                        .WithMany("TransferOrderDetails")
                        .HasForeignKey("ProductId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("TransferOrderDetail_ProductId_fkey");

                    b.HasOne("Chibest.Repository.Models.TransferOrder", "TransferOrder")
                        .WithMany("TransferOrderDetails")
                        .HasForeignKey("TransferOrderId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("TransferOrderDetail_TransferOrderId_fkey");

                    b.Navigation("Product");

                    b.Navigation("TransferOrder");
                });

            modelBuilder.Entity("RolePermission", b =>
                {
                    b.HasOne("Chibest.Repository.Models.Permission", null)
                        .WithMany()
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_rolepermission_permission");

                    b.HasOne("Chibest.Repository.Models.Role", null)
                        .WithMany()
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_rolepermission_role");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Account", b =>
                {
                    b.Navigation("AccountRoles");

                    b.Navigation("Attendances");

                    b.Navigation("Commissions");

                    b.Navigation("Deductions");

                    b.Navigation("Payrolls");

                    b.Navigation("ProductPlans");

                    b.Navigation("PurchaseOrderEmployees");

                    b.Navigation("PurchaseOrderSuppliers");

                    b.Navigation("PurchaseReturnEmployees");

                    b.Navigation("PurchaseReturnSuppliers");

                    b.Navigation("SalaryConfigs");

                    b.Navigation("SalesOrders");

                    b.Navigation("StockAdjustmentApprovedByNavigations");

                    b.Navigation("StockAdjustmentEmployees");

                    b.Navigation("SupplierDebt");

                    b.Navigation("TransferOrders");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Branch", b =>
                {
                    b.Navigation("AccountRoles");

                    b.Navigation("Attendances");

                    b.Navigation("BranchDebt");

                    b.Navigation("BranchStocks");

                    b.Navigation("Payrolls");

                    b.Navigation("ProductPriceHistories");

                    b.Navigation("PurchaseOrders");

                    b.Navigation("PurchaseReturns");

                    b.Navigation("SalaryConfigs");

                    b.Navigation("SalesOrders");

                    b.Navigation("StockAdjustments");

                    b.Navigation("TransferOrderFromBranchNavigations");

                    b.Navigation("TransferOrderToBranchNavigations");
                });

            modelBuilder.Entity("Chibest.Repository.Models.BranchDebt", b =>
                {
                    b.Navigation("BranchDebtHistories");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Category", b =>
                {
                    b.Navigation("Products");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Color", b =>
                {
                    b.Navigation("Products");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Customer", b =>
                {
                    b.Navigation("CustomerVouchers");

                    b.Navigation("InverseGroup");

                    b.Navigation("SalesOrders");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Product", b =>
                {
                    b.Navigation("BranchStocks");

                    b.Navigation("InverseParentSkuNavigation");

                    b.Navigation("ProductDetails");

                    b.Navigation("ProductPlans");

                    b.Navigation("ProductPriceHistories");

                    b.Navigation("PurchaseOrderDetails");

                    b.Navigation("PurchaseReturnDetails");

                    b.Navigation("SalesOrderDetails");

                    b.Navigation("StockAdjustmentDetails");

                    b.Navigation("TransferOrderDetails");
                });

            modelBuilder.Entity("Chibest.Repository.Models.ProductDetail", b =>
                {
                    b.Navigation("SalesOrderDetails");
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseOrder", b =>
                {
                    b.Navigation("PurchaseOrderDetails");
                });

            modelBuilder.Entity("Chibest.Repository.Models.PurchaseReturn", b =>
                {
                    b.Navigation("PurchaseReturnDetails");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Role", b =>
                {
                    b.Navigation("AccountRoles");
                });

            modelBuilder.Entity("Chibest.Repository.Models.SalesOrder", b =>
                {
                    b.Navigation("SalesOrderDetails");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Size", b =>
                {
                    b.Navigation("Products");
                });

            modelBuilder.Entity("Chibest.Repository.Models.StockAdjustment", b =>
                {
                    b.Navigation("StockAdjustmentDetails");
                });

            modelBuilder.Entity("Chibest.Repository.Models.SupplierDebt", b =>
                {
                    b.Navigation("SupplierDebtHistories");
                });

            modelBuilder.Entity("Chibest.Repository.Models.TransferOrder", b =>
                {
                    b.Navigation("TransferOrderDetails");
                });

            modelBuilder.Entity("Chibest.Repository.Models.Voucher", b =>
                {
                    b.Navigation("CustomerVouchers");

                    b.Navigation("SalesOrders");
                });

            modelBuilder.Entity("Chibest.Repository.Models.WorkShift", b =>
                {
                    b.Navigation("Attendances");
                });
#pragma warning restore 612, 618
        }
    }
}
